<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-110</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Setup
counter=0;
duration=600;

aspeed=2;
angle_1=0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>obj_game_controller.blurRadius=0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var blur,player;

if game_paused() {
 if depth&lt;&gt;-90
  depth=-90;
 exit;
 }
 
player=global.player_obj_id;

//Countdown:
counter+=1;
angle_1+=aspeed;

if counter=duration {

 if player._defib&gt;0 
  player_defibrillate()
  else {
   //STUB --  Kill player
   player_kill();
   show_message("BOOM! You're dead!#That's so... *heartbreaking*...");
   instance_destroy();   
   }
   
 }
 
//Buff correction:
if counter&lt;=duration/5 {
 if !buf_instance_has_buff(player,BUFF_ID.heart_attack_1)
  buf_apply_buff(player,BUFF_ID.heart_attack_1,duration/300);
 }
 else if counter&lt;=duration*2/5 {
  buf_remove_buff(player,BUFF_ID.heart_attack_1);
  if !buf_instance_has_buff(player,BUFF_ID.heart_attack_2)
   buf_apply_buff(player,BUFF_ID.heart_attack_2,duration/300);
  }
  else if counter&lt;=duration*3/5 {
   buf_remove_buff(player,BUFF_ID.heart_attack_2);
   if !buf_instance_has_buff(player,BUFF_ID.heart_attack_3)
    buf_apply_buff(player,BUFF_ID.heart_attack_3,duration/300);
   }
   else if counter&lt;=duration*4/5 {
    buf_remove_buff(player,BUFF_ID.heart_attack_3);
    if !buf_instance_has_buff(player,BUFF_ID.heart_attack_4)
     buf_apply_buff(player,BUFF_ID.heart_attack_4,duration/300);
    }
    else {
     buf_remove_buff(player,BUFF_ID.heart_attack_4);
     if !buf_instance_has_buff(player,BUFF_ID.heart_attack_5)
      buf_apply_buff(player,BUFF_ID.heart_attack_5,duration/300);
     }
 
//Depth correction:
if depth&lt;&gt;-110
 depth=-110;
 
//Blur:
blur=round( min( (duration-counter)/6 , abs(dsin(angle_1)*4)+2 ) ); 
obj_game_controller.blurRadius=blur;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var xx,yy,alp;

draw_set_colour(c_white);
alp=min( 0.25*(duration-counter)/60 , max( abs(dcos(angle_1)*0.25) , 0.9-min(counter,90)/100 ) );
draw_set_alpha(alp);
draw_rectangle(0,0,gui_width(),gui_height(),false);
draw_set_alpha(1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
